import{r as u,j as a,b as g,d as v}from"./index-oeGMoITT.js";import{B as y}from"./chunk-UVUR7MCU-vb04iidk.js";import{H as N}from"./chunk-7OLJDQMT-vvWhvLvh.js";let i;const j=new Uint8Array(16);function E(){if(!i&&(i=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!i))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return i(j)}const t=[];for(let e=0;e<256;++e)t.push((e+256).toString(16).slice(1));function f(e,n=0){return t[e[n+0]]+t[e[n+1]]+t[e[n+2]]+t[e[n+3]]+"-"+t[e[n+4]]+t[e[n+5]]+"-"+t[e[n+6]]+t[e[n+7]]+"-"+t[e[n+8]]+t[e[n+9]]+"-"+t[e[n+10]]+t[e[n+11]]+t[e[n+12]]+t[e[n+13]]+t[e[n+14]]+t[e[n+15]]}const U=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),p={randomUUID:U};function w(e,n,s){if(p.randomUUID&&!n&&!e)return p.randomUUID();e=e||{};const r=e.random||(e.rng||E)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,n){s=s||0;for(let d=0;d<16;++d)n[s+d]=r[d];return n}return f(r)}function A({createNewEvent:e,isNumberOfPeopleValid:n}){const[s,r]=u.useState({name:"",date:"",place:"",numberOfPeople:0}),[d,o]=u.useState("");u.useEffect(()=>{s.numberOfPeople===0?o("La cantidad de participantes no puede ser 0"):o("")},[s.numberOfPeople]);const l=c=>{const{name:h,value:b}=c.target;r(x=>({...x,[h]:b}))},m=c=>{c.preventDefault(),n(s.numberOfPeople)&&(e({...s,id:w()}),r({name:"",date:"",place:"",numberOfPeople:0}))};return a.jsxs(a.Fragment,{children:[a.jsxs("form",{onSubmit:m,className:"form",children:[a.jsxs("label",{className:"label",children:["Nombre del que realiza la reserva:",a.jsx("input",{type:"text",placeholder:"Add your name",value:s.name,onChange:l,name:"name",className:"input"})]}),a.jsxs("label",{className:"label",children:["Añade el dia del evento:",a.jsx("input",{type:"date",placeholder:"Add the date",value:s.date,onChange:l,name:"date",className:"input"})]}),a.jsxs("label",{className:"label",children:["Añade el lugar del evento:",a.jsx("input",{type:"text",placeholder:"Add the place",value:s.place,onChange:l,name:"place",className:"input"})]}),a.jsxs("label",{className:"label",children:["Añade el numero de personas que asistiran:",a.jsx("input",{type:"number",placeholder:"Add the number of people",value:s.numberOfPeople,onChange:l,name:"numberOfPeople",className:"input"})]}),a.jsx(y,{type:"submit",p:7,border:"2px solid hsl(185, 41%, 68%)",fontWeight:700,bg:"transparent",mt:6,borderRadius:"1rem",children:"New Event"})]}),d&&a.jsx("p",{className:"message",children:d})]})}const P=()=>{const{dispatch:e}=g(),n=v(),[s,r]=u.useState(!1),d=l=>{o(l.numberOfPeople)&&(e({type:"ADD_EVENT",payload:{...l,complete:!1}}),r(!0))},o=l=>l>0;return u.useEffect(()=>{let l=!0;return s&&l&&n("/viewEvents"),()=>{l=!1}},[s,n]),a.jsxs("div",{className:"create-event",children:[a.jsx(N,{color:"white",background:" hsl(229, 60%, 22%)",m:100,w:"400px",display:"grid",placeContent:"center",borderRadius:"1rem",p:2,children:"Create Event"}),a.jsx(A,{createNewEvent:d,isNumberOfPeopleValid:o})]})};export{P as default};
